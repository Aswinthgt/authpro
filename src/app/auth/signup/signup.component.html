<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <mat-stepper linear #stepper>
        <mat-step [stepControl]="firstsignUp">
          <form [formGroup]="firstsignUp" *ngIf="!enable">
            <ng-template matStepLabel>User Details</ng-template>
            <ng-template matStepContent>
              <div class="m-2">
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>First Name</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="firstname"
                    required
                  />
                </mat-form-field>
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>Last Name</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="lastname"
                    required
                  />
                </mat-form-field>
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>Email</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="email"
                    required
                  />
                </mat-form-field>
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>Phone Number</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="phone"
                    required
                  />
                </mat-form-field>
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>Password</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="password"
                    required
                  />
                </mat-form-field>
                <mat-form-field appearance="outline" class="p-1">
                  <mat-label>Confirm Password</mat-label>
                  <input
                    matInput
                    type="text"
                    formControlName="cpassword"
                    required
                  />
                </mat-form-field>
              </div>

              <button mat-button matStepperNext (click)="register()">
                Next
              </button>
            </ng-template>
          </form>
        </mat-step>

        <mat-step [stepControl]="secondsignUp">
          <form [formGroup]="secondsignUp">
            <ng-template matStepLabel>OTP Validation</ng-template>
            <ng-container matStepContent>
              <ng-container *ngIf="enable">
                <div class="row justify-content-center">
                  <div class="col-md-6">
                    <mat-spinner></mat-spinner>
                  </div>
                </div>
              </ng-container>
              <ng-container *ngIf="!enable">
                <div class="row justify-content-center">
                  <div class="col-md-6">
                    <ng-container *ngIf="emailDisable">
                      <div>OTP sent to Your Mobile {{ mobile }}</div>
                      <div>
                        <mat-form-field appearance="outline" class="p-1">
                          <mat-label>Enter OTP</mat-label>
                          <input matInput type="text" formControlName="otp" />
                        </mat-form-field>
                      </div>
                      <div>
                        <button
                          mat-button
                          color="primary"
                          [disabled]="resendEnable"
                          (click)="resendOtp()"
                        >
                          Resend OTP
                        </button>
                        <button *ngIf="resendEnable" mat-button color="primary">
                          {{ time }}
                        </button>
                      </div>
                      <button
                        mat-button
                        matStepperNext
                        (click)="verification()"
                      >
                        Verify
                      </button>
                      <button mat-button (click)="emailGenerate()">
                        Verify Using Email
                      </button>
                    </ng-container>
                    <ng-container *ngIf="!emailDisable">
                      <h1>{{ emailmessage }}</h1>
                    </ng-container>
                  </div>
                </div>
              </ng-container>
            </ng-container>
          </form>
        </mat-step>
      </mat-stepper>
    </div>
  </div>
</div>
